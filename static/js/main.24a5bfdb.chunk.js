(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(2),s=a.n(c),l=(a(14),a(6)),i=a(3),o=a(4),u=a(7),m=a(5),d=a(8),h=(a(15),a(16),function(e){return r.a.createElement("form",{onSubmit:e.submit},r.a.createElement("input",{className:"form-input",type:"search",value:e.value,onChange:e.change,placeholder:"City name..."}))}),p=(a(17),["January","February","March","April","May","June","July","August","September","October","November","December"]),v=["Sunday","Monday","Tueasday","Wednesday","Thursday","Friday","Saturday"],y=function(e){var t=e.locationDate,a=t.city,n=t.country,c=t.currentTime,s=c.toLocaleTimeString([],{timeStyle:"short"}),l=v[c.getDay()],i=p[c.getMonth()],o=c.getDate();return r.a.createElement("section",{className:"location"},r.a.createElement("h1",{className:"location--city-country"},a,", ",n),r.a.createElement("div",{className:"location--date"},l," ",o,"th ",i,", ",s))},E=(a(18),function(e){var t=e.weather,a=t.icon,n=t.temp,c=t.description,s="http://openweathermap.org/img/wn/".concat(a,"@2x.png");return r.a.createElement("section",{className:"current-temp"},r.a.createElement("div",{className:"current-temp--icon"},r.a.createElement("img",{className:"current-temp--icon-img",src:s,alt:c})),r.a.createElement("div",{className:"current-temp--temp"},r.a.createElement("p",{className:"current-temp--deg"},n,"\xb0"),r.a.createElement("p",{className:"current-temp--desc"},c)))}),f=(a(19),function(e){var t=e.weather,a=t.tempMax,n=t.tempMin,c=t.wind,s=t.pressure,l=t.sunrise,i=t.sunset,o=new Date(1e3*l).toLocaleTimeString([],{timeStyle:"short"}),u=new Date(1e3*i).toLocaleTimeString([],{timeStyle:"short"});return r.a.createElement("section",{className:"current-stats"},r.a.createElement("div",null,r.a.createElement("div",{className:"current-stats--value"},a,"\xb0"),r.a.createElement("div",{className:"current-stats--desc"},"High"),r.a.createElement("div",{className:"current-stats--value"},n,"\xb0"),r.a.createElement("div",{className:"current-stats--desc"},"Low")),r.a.createElement("div",null,r.a.createElement("div",{className:"current-stats--value"},c,r.a.createElement("span",null,"m/s")),r.a.createElement("div",{className:"current-stats--desc"},"Wind"),r.a.createElement("div",{className:"current-stats--value"},s,r.a.createElement("span",null,"hPa")),r.a.createElement("div",{className:"current-stats--desc"},"Pressure")),r.a.createElement("div",null,r.a.createElement("div",{className:"current-stats--value"},o),r.a.createElement("div",{className:"current-stats--desc"},"Sunrise"),r.a.createElement("div",{className:"current-stats--value"},u),r.a.createElement("div",{className:"current-stats--desc"},"Sunset")))}),N=(a(20),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],w=function(e){var t=e.forecast.days.slice(1,6).map(function(e,t){var a=new Date(1e3*e.dt),n=a.getDate(),c=N[a.getMonth()],s=g[a.getDay()],l="http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),i="".concat(e.weather[0].description);return r.a.createElement("div",{key:t},r.a.createElement("div",{className:"next-days--day"},r.a.createElement("div",{className:"next-days--tile date"},r.a.createElement("p",{className:"next-days--value"},s),r.a.createElement("p",{className:"next-days--desc"},n," ",c," ")),r.a.createElement("div",{className:"next-days--tile low-temp"},r.a.createElement("p",{className:"next-days--value"},Math.round(e.temp.min),"\xb0"),r.a.createElement("p",{className:"next-days--desc"},"Low")),r.a.createElement("div",{className:"next-days--tile high-temp"},r.a.createElement("p",{className:"next-days--value"},Math.round(e.temp.max),"\xb0"),r.a.createElement("p",{className:"next-days--desc"},"High")),r.a.createElement("div",{className:"next-days--tile forecast-icon"},r.a.createElement("p",{className:"next-days--value"},r.a.createElement("img",{className:"next-days--icon",src:l,alt:i}))),r.a.createElement("div",{className:"next-days--tile pressure"},r.a.createElement("p",{className:"next-days--value"},e.pressure,"hPa"),r.a.createElement("p",{className:"next-days--desc"},"Pressure")),r.a.createElement("div",{className:"next-days--tile wind"},r.a.createElement("p",{className:"next-days--value"},Math.round(e.wind_speed),"m/s"),r.a.createElement("p",{className:"next-days--desc"},"Wind"))))});return r.a.createElement("section",{className:"next-days"},r.a.createElement("h2",null,"Next 5 days"),t)},x="cd89e16113fe3e44eacf3e7726ef8614",b="https://api.openweathermap.org/data/2.5/",D=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={value:"",err:"",err2:"",locationDate:{currentTime:new Date,city:"",country:""},currentWeather:{sunrise:"",sunset:"",temp:"",tempMax:"",tempMin:"",pressure:"",wind:"",icon:"",description:""},forecast:{days:[]}},a.debounceTimeout=0,a.handleInputChange=function(e){a.setState({value:e.target.value})},a.handleForecastCall=function(e){var t=e||{},n=t.lat,r=t.lon;n&&r&&fetch("".concat(b,"onecall?lat=").concat(n,"&lon=").concat(r,"&exclude=minutely&appid=").concat(x,"&units=metric&lang=en")).then(function(e){if(e.ok)return e;throw Error("Fail. Didn't find the city:\"".concat(a.state.value,'"'))}).then(function(e){return e.json()}).then(function(e){var t=e.daily;a.setState({err:!1,forecast:{days:Object(l.a)(t)}})}).catch(function(e){console.log("error2"),a.setState(function(e){return{err2:!0}})})},a.handleLocalizationCall=function(){return fetch("".concat(b,"weather?q=").concat(a.state.value,"&appid=").concat(x,"&units=metric")).then(function(e){if(e.ok)return e;throw Error("Fail. Didn't find the city:\"".concat(a.state.value,'"'))}).then(function(e){return e.json()}).then(function(e){var t=new Date;return a.setState(function(a){return{err:!1,locationDate:{currentTime:t,city:a.value,country:e.sys.country},currentWeather:{sunrise:e.sys.sunrise,sunset:e.sys.sunset,temp:Math.round(e.main.temp),tempMax:Math.round(e.main.temp_max),tempMin:Math.round(e.main.temp_min),pressure:e.main.pressure,wind:Math.round(e.wind.speed),icon:e.weather[0].icon,description:e.weather[0].description}}}),{lat:e.coord.lat,lon:e.coord.lon}}).catch(function(e){console.log("error1"),a.setState(function(e){return{err:!0,currentWeather:{city:e.value}}})})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;this.state.value.length<2&&0!==this.state.value.length||t.value!==this.state.value&&(clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(function(){return a.handleLocalizationCall().then(a.handleForecastCall)},250))}},{key:"render",value:function(){var e=null;!this.state.err&&this.state.locationDate.city&&(e=r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{locationDate:this.state.locationDate,error:this.state.err}),r.a.createElement(E,{weather:this.state.currentWeather}),r.a.createElement(f,{weather:this.state.currentWeather}),r.a.createElement(w,{locationDate:this.state.locationDate,forecast:this.state.forecast})));var t=null;return this.state.value&&(t=r.a.createElement("div",{className:"display-no-city"},"In our database there is no city: ",r.a.createElement("strong",null,this.state.value))),r.a.createElement("div",{className:"App"},r.a.createElement(h,{value:this.state.value,change:this.handleInputChange,submit:this.handleCitySubmit}),this.state.err?t:e)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[9,1,2]]]);
//# sourceMappingURL=main.24a5bfdb.chunk.js.map